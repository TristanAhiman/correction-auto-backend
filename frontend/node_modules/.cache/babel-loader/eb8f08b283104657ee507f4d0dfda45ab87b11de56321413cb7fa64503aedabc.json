{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"../App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ModeExamen(){const[texteExamen,setTexteExamen]=useState(\"\");const[bareme,setBareme]=useState([{question:\"\",points:\"\",coefficient:1}]);const[files,setFiles]=useState([]);const[resultat,setResultat]=useState(null);const[loading,setLoading]=useState(false);const ajouterQuestion=()=>{setBareme([...bareme,{question:\"\",points:\"\",coefficient:1}]);};const modifierBareme=(index,champ,valeur)=>{const copie=[...bareme];copie[index][champ]=valeur;setBareme(copie);};const envoyerCorrection=async()=>{if(!files.length){alert(\"Ajoute au moins une copie\");return;}setLoading(true);const formData=new FormData();formData.append(\"texte_examen\",texteExamen);formData.append(\"bareme\",JSON.stringify(bareme));for(let i=0;i<files.length;i++){formData.append(\"copies\",files[i]);}try{const res=await axios.post(\"http://127.0.0.1:5000/examen/corriger\",formData);setResultat(res.data);}catch(e){alert(\"Erreur de correction\");}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDF93 MODE EXAMEN\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Correction officielle automatis\\xE9e\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCDD Texte de l\\u2019examen\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",placeholder:\"Colle ici le sujet officiel...\",value:texteExamen,onChange:e=>setTexteExamen(e.target.value)}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Bar\\xE8me officiel\"}),bareme.map((q,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Question \".concat(i+1),value:q.question,onChange:e=>modifierBareme(i,\"question\",e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Points\",value:q.points,onChange:e=>modifierBareme(i,\"points\",e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Coeff\",value:q.coefficient,onChange:e=>modifierBareme(i,\"coefficient\",e.target.value)})]},i)),/*#__PURE__*/_jsx(\"button\",{onClick:ajouterQuestion,children:\"\\u2795 Ajouter une question\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCF7 Copies \\xE9l\\xE8ves (PDF / images)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*,.pdf\",onChange:e=>setFiles(e.target.files)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:envoyerCorrection,children:\"\\uD83D\\uDE80 Lancer la correction IA\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u23F3 Analyse en cours...\"}),resultat&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2705 R\\xE9sultat\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Note finale : \",/*#__PURE__*/_jsxs(\"b\",{children:[resultat.note,\"/20\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Appr\\xE9ciation : \",resultat.appreciation]})]})]})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ModeExamen","texteExamen","setTexteExamen","bareme","setBareme","question","points","coefficient","files","setFiles","resultat","setResultat","loading","setLoading","ajouterQuestion","modifierBareme","index","champ","valeur","copie","envoyerCorrection","length","alert","formData","FormData","append","JSON","stringify","i","res","post","data","e","className","children","rows","placeholder","value","onChange","target","map","q","style","marginBottom","concat","type","onClick","multiple","accept","marginTop","note","appreciation"],"sources":["C:/Users/MADAME SOUMAN/Documents/correction-auto/frontend/src/pages/ModeExamen.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../App.css\";\r\n\r\nexport default function ModeExamen() {\r\n  const [texteExamen, setTexteExamen] = useState(\"\");\r\n  const [bareme, setBareme] = useState([\r\n    { question: \"\", points: \"\", coefficient: 1 },\r\n  ]);\r\n  const [files, setFiles] = useState([]);\r\n  const [resultat, setResultat] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const ajouterQuestion = () => {\r\n    setBareme([...bareme, { question: \"\", points: \"\", coefficient: 1 }]);\r\n  };\r\n\r\n  const modifierBareme = (index, champ, valeur) => {\r\n    const copie = [...bareme];\r\n    copie[index][champ] = valeur;\r\n    setBareme(copie);\r\n  };\r\n\r\n  const envoyerCorrection = async () => {\r\n    if (!files.length) {\r\n      alert(\"Ajoute au moins une copie\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"texte_examen\", texteExamen);\r\n    formData.append(\"bareme\", JSON.stringify(bareme));\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append(\"copies\", files[i]);\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://127.0.0.1:5000/examen/corriger\",\r\n        formData\r\n      );\r\n      setResultat(res.data);\r\n    } catch (e) {\r\n      alert(\"Erreur de correction\");\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n\r\n      <h1>üéì MODE EXAMEN</h1>\r\n      <p>Correction officielle automatis√©e</p>\r\n\r\n      <div className=\"card\">\r\n\r\n        <h3>üìù Texte de l‚Äôexamen</h3>\r\n        <textarea\r\n          rows=\"6\"\r\n          placeholder=\"Colle ici le sujet officiel...\"\r\n          value={texteExamen}\r\n          onChange={(e) => setTexteExamen(e.target.value)}\r\n        />\r\n\r\n        <h3>üìä Bar√®me officiel</h3>\r\n\r\n        {bareme.map((q, i) => (\r\n          <div key={i} style={{ marginBottom: \"10px\" }}>\r\n            <input\r\n              placeholder={`Question ${i + 1}`}\r\n              value={q.question}\r\n              onChange={(e) =>\r\n                modifierBareme(i, \"question\", e.target.value)\r\n              }\r\n            />\r\n\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Points\"\r\n              value={q.points}\r\n              onChange={(e) =>\r\n                modifierBareme(i, \"points\", e.target.value)\r\n              }\r\n            />\r\n\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Coeff\"\r\n              value={q.coefficient}\r\n              onChange={(e) =>\r\n                modifierBareme(i, \"coefficient\", e.target.value)\r\n              }\r\n            />\r\n          </div>\r\n        ))}\r\n\r\n        <button onClick={ajouterQuestion}>\r\n          ‚ûï Ajouter une question\r\n        </button>\r\n\r\n        <h3>üì∑ Copies √©l√®ves (PDF / images)</h3>\r\n\r\n        <input\r\n          type=\"file\"\r\n          multiple\r\n          accept=\"image/*,.pdf\"\r\n          onChange={(e) => setFiles(e.target.files)}\r\n        />\r\n\r\n        <br /><br />\r\n\r\n        <button onClick={envoyerCorrection}>\r\n          üöÄ Lancer la correction IA\r\n        </button>\r\n\r\n        {loading && <p>‚è≥ Analyse en cours...</p>}\r\n\r\n        {resultat && (\r\n          <div style={{ marginTop: \"20px\" }}>\r\n            <h3>‚úÖ R√©sultat</h3>\r\n            <p>Note finale : <b>{resultat.note}/20</b></p>\r\n            <p>Appr√©ciation : {resultat.appreciation}</p>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}